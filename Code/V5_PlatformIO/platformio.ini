; PlatformIO Project Configuration File for Ash-Nazg Melty Brain Robot
; Board: Adafruit QT Py ESP32-S3 WiFi Dev Board with STEMMA QT - 8 MB Flash / No PSRAM
; Dual-core; DShot on Core 1 for steady timing
;
; ============ UPLOAD INSTRUCTIONS (Qt Py ESP32-S3) ============
; 1. Put the board in boot mode: Hold BOOT (GPIO 0), press RESET, release BOOT
; 2. Run: pio run -t upload
; 3. After upload, press RESET
;
; ============ USEFUL COMMANDS ============
; Build only:           pio run
; Upload:               pio run -t upload
; Serial Monitor:       pio device monitor
; Clean:                pio run -t clean
; ==========================================

[env:adafruit_qtpy_esp32s3_nopsram]
platform = espressif32
board = adafruit_qtpy_esp32s3_nopsram
framework = arduino

; Upload (adjust port as needed)
upload_port = COM9
upload_speed = 921600

; Monitor
monitor_port = COM10
monitor_speed = 115200

; Local libraries
lib_extra_dirs = 
    ../Libraries

lib_deps = 
    https://github.com/ZZ-Cat/CRSFforArduino.git
    https://github.com/adafruit/Adafruit_DotStar.git

; 8 MB Flash / No PSRAM; USB CDC for serial
build_flags = 
    -DCORE_DEBUG_LEVEL=0
    -DARDUINO_USB_CDC_ON_BOOT=1

board_build.partitions = min_spiffs.csv
